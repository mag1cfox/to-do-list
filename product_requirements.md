# 时间管理系统 PRD (产品需求文档)

## 1. 文档简介

### 1.1 产品概述
本项目旨在开发一款智能化的个人时间管理系统。它不同于传统的待办清单或日历，其核心在于通过**智能推荐**与**自动化流程**，将任务规划、专注执行与复盘记录无缝衔接，形成一个高效的闭环，旨在帮助用户提升专注力与时间利用率。

### 1.2 问题陈述
- 用户难以在众多任务中快速决定"现在该做什么"。
- 计划与执行脱节，任务规划后容易被遗忘或拖延。
- 时间记录过程繁琐，难以坚持，导致复盘缺乏数据支撑。
- 刚性日程与柔性任务之间缺乏智能的协调机制。

### 1.3 解决方案
通过`智能任务池`进行任务管理，利用`推荐引擎`动态建议最佳执行任务，并通过`集成式番茄钟`引导用户专注。系统在每个番茄钟后强制进行`快速复盘`，自动生成非重叠的`时间账本`，从而实现规划、执行、记录的自动化闭环。

## 2. 用户角色与画像

| 角色名称 | 核心特征与需求 |
| :--- | :--- |
| **专注型工作者** (核心用户) | 需要长时间专注的知识工作者（如程序员、作家、设计师）。他们需要排除干扰，进入心流状态，并追踪在不同项目上的时间投入。 |
| **事务繁杂的管理者** | 每日任务多而杂，需要清晰区分事务的轻重缓急，并确保重要事项不被遗漏。 |
| **备考学生** | 需要严格的时间规划和强大的专注工具来执行学习计划，并对学习进度进行复盘。 |

## 3. 核心功能需求

### 3.1 智能任务池 (Task Pool)
**目标**：作为系统的数据基础，对所有待办任务进行统一、智能的管理。
- **任务创建与属性**：
  - 必填：`任务标题`。
  - 关键属性：
    - `计划开始时间`：任务期望开始的时间点。
    - `预估番茄数`：完成任务所需的预估番茄钟数量（1个番茄钟默认为25分钟）。
    - `任务类型`：分为 **刚性任务** 与 **柔性任务**。
      - **刚性任务**：不允许时间重叠，必须严格安排在计划时间（如会议、电话）。
      - **柔性任务**：允许时间重叠，可灵活安排（如阅读、整理资料）。
  - 选填：`任务描述`、`所属项目/标签`。
- **任务视图**：
  - **列表视图**：以清单形式展示所有任务，支持按项目、标签筛选。
  - **智能日程视图**：基于时间轴的日历视图，系统根据任务的`计划开始时间`和`预估番茄数`进行**初步自动排列**，刚性任务固定位置，柔性任务填充空隙。

### 3.2 时间块规划 (Time Block Planning)
**目标**：让用户在一开始就能规划全天的活动框架，为任务安排提供结构基础。
- **时间块创建**：
  - 用户可手动设置全天时间块，指定`开始时间`、`结束时间`和`时间块类型`。
  - 支持预设时间块类型：`科研`、`成长`、`休息`、`娱乐`、`复盘`等。
  - 每个时间块类型有对应的默认颜色编码（如：`蓝色-科研`，`绿色-成长`，`灰色-休息`，`橙色-娱乐`，`紫色-复盘`）。
- **时间块模板**：
  - 提供常用时间块模板（如：标准工作日、深度工作模式、学习日等）。
  - 用户可保存自定义时间块模板供后续使用。
- **时间块管理**：
  - 支持时间块的复制、移动、删除操作。
  - 系统自动检测时间块重叠并提示用户调整。

### 3.3 任务分类体系 (Task Classification System)
**目标**：建立清晰的任务分类，与时间块类型对应，便于智能排布。
- **任务类别**：
  - 预设类别：`科研`、`成长`、`休息`、`娱乐`、`复盘`、`其他`。
  - 用户可自定义类别及其颜色。
- **类别与时间块关联**：
  - 系统自动建议任务放置到对应类型的时间块中。
  - 用户可在创建任务时选择任务类别，系统会根据类别推荐合适的时间块。

### 3.4 智能日程视图与手动排布 (Smart Schedule & Manual Arrangement)
**目标**：结合自动排布与手动调整，提供灵活的任务安排体验。
- **自动排布**：
  - 系统根据任务的`计划开始时间`、`预估番茄数`和`任务类别`，自动将任务安排到对应类型的时间块中。
  - 刚性任务固定位置，柔性任务智能填充空隙。
- **手动调整**：
  - 支持通过**拖拽方式**调整任务在时间轴上的位置。
  - 支持任务在不同时间块间的移动。
  - 实时显示时间冲突检测，防止任务重叠。
- **可视化呈现**：
  - 在时间轴视图中，时间块作为背景，任务作为前景，直观显示任务与时间块的对应关系。
  - 通过颜色编码区分不同类型的时间块和任务。

### 3.3 智能推荐引擎 (Recommendation Engine)
**目标**：消除用户决策 paralysis，动态推荐最佳执行任务。
- **推荐触发**：根据系统`当前时间`自动运行推荐逻辑。
- **推荐逻辑（优先级从高到低）**：
  1.  **刚性任务优先**：推荐`计划开始时间`已到或已过、且未完成的**刚性任务**。
  2.  **柔性任务填充**：推荐`计划开始时间`已到或已过、且未完成的**柔性任务**。
  3.  **未来任务预备**：若以上皆无，则从所有未开始的待办事项中推荐（可综合`计划开始时间`和`优先级`）。
- **UI呈现**：在应用主界面设有固定的"**现在该做什么？**"区域，动态显示推荐的任务。

### 3.5 集成式番茄钟与强制复盘 (Pomodoro & Review)
**目标**：引导用户进入专注状态，并在执行后立即固化成果与反思。
- **无缝启动**：用户可从`智能推荐`区域或`智能日程视图`中的任务块上，一键启动番茄钟。
- **标准流程**：遵循番茄工作法（专注25分钟 -> 强制休息5分钟），并配有计时器与全屏/勿扰模式选项。
- **强制复盘步骤**：
  - **每个番茄钟结束后**，自动弹出对话框。
  - 强制（或强烈提示）用户填写一句**完成总结**（例如："已完成接口文档阅读"、"遇到瓶颈，需寻求帮助"）。
  - 此总结与该次番茄钟记录**永久绑定**。
- **时间账本**：系统自动记录每个番茄钟的`开始时间`、`结束时间`、`所属任务`及`用户总结`。系统逻辑确保所有记录的番茄钟在时间轴上**连续且不重叠**，形成精确的审计轨迹。

### 3.6 全天复盘系统 (Daily Review System)
**目标**：在一天结束时提供全面的复盘体验，帮助用户反思和优化时间管理。
- **复盘时间块专用功能**：
  - 当用户进入复盘时间块时，系统自动弹出复盘界面。
  - 提供引导式的复盘流程，帮助用户系统性地回顾一天。
- **统计报告生成**：
  - **时间分布统计**：显示在不同类别任务上的时间投入比例。
  - **完成率分析**：对比计划任务与实际完成情况。
  - **番茄钟效率**：统计专注时长、中断次数等指标。
  - **预估准确性**：对比预估番茄数与实际完成番茄数。
- **复盘总结**：
  - 引导用户填写今日收获、遇到的问题、明日改进点。
  - 支持复盘模板，用户可选择不同的复盘框架。
  - 复盘记录与当天的时间账本关联，便于后续查阅。

## 4. 系统流程

### 4.1 主要用户流程
1.  **每日开始阶段**：
    - 用户打开应用，系统引导进行**时间块规划**。
    - 用户设置全天时间块（如：9-11点科研，11-12点半休息等）。
    - 可选择预设模板或手动创建时间块。
2.  **任务规划阶段**：
    - 系统提示用户添加今日待办事项。
    - 用户创建任务时选择**任务类别**（科研、成长、休息等）。
    - 系统根据任务类别自动建议放置到对应时间块。
3.  **任务排布阶段**：
    - 系统在`智能日程视图`中自动排布任务。
    - 用户可通过**拖拽方式**手动调整任务顺序和位置。
    - 系统实时检测时间冲突，确保任务不重叠。
4.  **执行阶段**：
    - 用户查看应用，`推荐引擎`根据当前时间提示"现在该做什么？"。
    - 用户点击"开始专注"，启动一个番茄钟。
    - 番茄钟结束，系统弹出复盘对话框，用户填写总结。
    - 系统自动保存记录，并进入休息阶段。
5.  **复盘阶段**：
    - 当进入复盘时间块或一天结束时，系统自动弹出复盘界面。
    - 用户查看**统计报告**（时间分布、完成率、效率分析等）。
    - 填写全天复盘总结，记录收获和改进点。
    - 系统保存复盘记录，为明日规划提供参考。

## 5. 非功能性需求

- **性能**：应用启动速度快，任务推荐与界面刷新无感知延迟。
- **可用性**：界面简洁直观，核心操作（启动番茄钟、添加任务）应在3次点击内完成。
- **可靠性**：用户数据（任务、时间记录）必须可靠存储与同步，防止丢失。
- **跨平台**：支持Web端与移动端（iOS/Android），并能实时同步数据。

---
**文档版本**: 2.0
**最后更新**: 2025-10-12
**相关人员**: 产品经理、研发团队、设计团队